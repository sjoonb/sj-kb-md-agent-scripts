# 금융분야 마이데이터 표준API 규격

# 제7장. 지원 API 명세

# 7.1 지원 API (종합포털 제공)

# 7.1.1 접근토큰 발급

ㅇ 기본 정보

|API ID|지원-001|
|---|---|
|HTTP Method|POST|
|API 제공자|종합포털|
|API 요청자|마이데이터사업자, 정보제공자, 통합인증기관|
|API 명 (URI)|/mgmts/oauth/2.0/token|
|종합포털이 사전에 발급해준 "지원 API 호출용 자격증명"을 이용하여 접근토큰 발급|종합포털이 사전에 발급해준 "지원 API 호출용 자격증명"을 이용하여 접근토큰 발급|
|설명|• 중계기관을 이용하는 기관의 경우, 중계기관이 본 API를 호출하여 접근토큰을 대표로 발급 받음 • 따라서 중계기관도 포털에 기관 등록 및 자격증명 발급 필요|
|기준시점|현재 시점|
|Content-Type (요청)|application/x-www-form-urlencoded|
|Content-Type (응답)|application/json; charset=UTF-8|

ㅇ 요청메시지 명세

|HTTP|항목명|항목설명|필수|타입(길이)|설명 (비고)|
|---|---|---|---|---|---|
|Header|x-api-tran-id|거래고유번호|Y|AN (25)|거래고유번호 (첨부14 참조)|
| |grant_type|권한부여 방식|Y|aNS (18)|('client_credentials' 고정값)|
| |client_id|클라이언트 ID|Y|aN (50)|종합포털에서 발급한 지원 API 호출용 클라이언트 식별값|
|Body|client_secret|클라이언트 Secret|Y|aN (50)|종합포털에서 발급한 지원 API 호출용 클라이언트 Secret 값|
| |scope|권한 범위|Y|a (6)|고정값: ‘manage’|

ㅇ 응답메시지 명세

|HTTP|항목명|항목설명|
|---|---|---|
|Header|x-api-tran-id|거래고유번호|
| |token_type|접근토큰 유형|
|Body|access_token|접근토큰|

필수

|타입(길이)|설명 (비고)|
|---|---|
|Y|AN (25) 거래고유번호 (첨부14 참조)|
|Y|a (6) • 'Bearer' 고정값|
|Y|aNS (1500) 발급된 접근토큰|

금융보안원 www.fsec.or.kr

- 254 -

# 금융분야 마이데이터 표준API 규격

|expires_in|접근토큰|Y|N (9)|접근토큰 유효기간(단위: 초)|
|---|---|---|---|---|
|scope|권한 범위|Y|a (6)|고정값 : ‘manage’|

# ㅇ 에러메시지 명세 (RFC 6749 준용)

|HTTP|항목명|항목설명|필수|타입(길이)|설명 (비고)|
|---|---|---|---|---|---|
|Header|x-api-tran-id|거래고유번호|Y|AN (25)|거래고유번호 (첨부14 참조)|
| |error|에러코드|Y|aNS (30)|에러코드|
|Body|error_description|에러메시지|N|AH (450)|에러메시지|

• [첨부1]- 참조

• [첨부1]- 참조

금융보안원 www.fsec.or.kr - 255 -

# 금융분야 마이데이터 표준API 규격

# 7.1.2 기관정보 조회

# ㅇ 기본 정보

|API ID|지원-002|
|---|---|
|HTTP Method|GET|
|API 제공자|종합포털|
|API 요청자|마이데이터사업자, 정보제공자, 통합인증기관(사설인증서)|
|API 명 (URI)|/mgmts/orgs|
|정보제공자/마이데이터사업자/통합인증기관이 타기관의 기관정보를 종합포털로부터 제공 받기 위한 API|정보제공자/마이데이터사업자/통합인증기관이 타기관의 기관정보를 종합포털로부터 제공 받기 위한 API|
|설명|• 수정내역이 없는 기관의 기관정보는 회신 목록에 포함하지 않음 • 중계기관의 경우, 종합포털은 중계기관에게만 기관정보 전달 (필요시, 이를 수신한 중계기관이 참여기관에 배포)|
|기준시점|현재 시점|
|Content-Type (요청)|-|
|Content-Type (응답)|application/json; charset=UTF-8|

# ㅇ 요청메시지 명세

|HTTP Header|항목명|항목설명|
|---|---|---|
|Authorization|접근토큰| |
|x-api-tran-id|거래고유번호| |

# Parameter

search_timestamp
조회 타임스탬프

# 필수 타입(길이) 설명 (비고)

|Y|aNS (1500)|• 접근토큰 유형(Bearer)을 명시 예) Authorization: Bearer 접근토큰|
|---|---|---|
|Y|AN (25)|거래고유번호 (첨부14 참조)|
|Y|N (14)|가장 최근 조회한 시간 (이전 API 호출 시 종합포털이 회신한 값을 저장하고 있다가 다음 API 호출 시 그 값을 그대로 세팅하여 전송, 최초 API 호출시 또는 전체정보 회신을 원할 경우에는 0으로 세팅)|

# ㅇ 응답메시지 명세

|HTTP Header|항목명|항목설명|
|---|---|---|
|x-api-tran-id|거래고유번호| |
|rsp_code|세부 응답코드| |
|rsp_msg|세부 응답메시지| |

# Body

|search_timestamp|조회 타임스탬프|
|---|---|
|org_cnt|기관목록수|
|org_list &lt;object&gt;|기관목록|

# 필수 타입(길이) 설명 (비고)

|Y|AN (25)|거래고유번호 (첨부14 참조)|
|---|---|---|
|Y|aN (5)| |
|Y|AH (450)| |
|N|N (14)|API 처리 시점의 현재시각을 설정하여 회신 • 2.1- 참조|
|Y|N (5)| |
|Y|Object| |
|Y|A (1)|해당 기관정보가 신규/수정/삭제인지를 구분|

금융보안원 www.fsec.or.kr

# 금융분야 마이데이터 표준API 규격

# 자로 전송 (수정내역이 없는 기관의 기관정

보는 회신하지 않음)

# 신규/수정/삭 제 구분

- <코드값>
- 'I' : 신규
- 'M' : 수정
- 'D' : 삭제

|org_code|기관코드|
|---|---|
|org_type|기관구분|
|정보수신자|is_rcv_org 여부|
|org_name|기관명|
|org_regno|사업자등록번호|
|corp_regno|법인등록번호|
|serial_num|TLS 인증서 시리얼넘버|
|address|주소|

# 기관구분 코드

- <코드값>
- ‘01’ : 정보제공자 (API 자체구축)
- ‘02’ : 정보제공자 (중계기관 이용)
- ‘03’ : 마이데이터사업자
- ‘04’ : 중계기관
- ‘05’ : 통합인증기관(인증서 본인확인기관)
- ‘06’ : 통합인증기관(전자서명인증사업자)
- ‘07’ : 종합포털
- ‘99’ : 기타

# 해당 기관이 「개인신용정보 전송요구권 표준API 규격」 상 정보수신자(마이데이터사업자 제외)인지 여부

op_type='D'인 경우 미회신

# 기관명

op_type='D'인 경우 미회신

# 사업자 등록번호

op_type='D'인 경우 미회신

# 법인 등록번호

op_type='D'인 경우 미회신

법인등록번호가 없는 기관(예:우정사업본부 등)의 경우 미회신

# TLS인증서 내 SERIALNUMBER

(Subject:serialNumaber (OID:2.5.4.5)) 값

기관 간 상호인증을 위한 TLS 인증서(EV등 급) 내 SERIALNUMBER에 기재된 값 (일반적으로 사업자등록번호이지만 그렇지 않은 경우 존재)

op_type='D'인 경우 미회신

org_type='05'(인증서 본인확인기관)인 경우 미회신(불필요)

타기관과 전용선 또는 VPN으로만 접속하는 기관의 경우 미회신(불필요)

# 주소

op_type='D'인 경우 미회신

|domain|API서버|
|---|---|
| |API 서버의 도메인명|

금융보안원 www.fsec.or.kr

# 금융분야 마이데이터 표준API 규격

# 도메인명

|API서버|공인IP|목록수|
|---|---|---|
|domain_ip_cnt| | |
|domain_ip_list|공인IP 목록| |
|domain_ip|API서버|공인IP|

# 중계기관/거점중계기관

|기관코드|설명|
|---|---|
|relay_org_code|• op_type='D'인 경우 미회신 • org_type=’02‘(중계기관 이용기관)인 경우 미회신(불필요) • org_type='05'(인증서 본인확인기관)인 경우 도메인명을 사용하지 않는 경우 미회신(불필요) (일부 인증서 본인확인기관의 경우 도메인명 제공)|

# API서버 공인IP 목록 수

• API서버 도메인명만 제공 시 아웃바운드 방화벽 정책 설정(API 요청자)의 어려움 등 존재하여 공인IP도 함께 제공

• 일부 기관의 경우 동일 API서버 도메인명에 대해 복수 개의 공인IP를 사용(예: 멀티 IDC 기반 Global load balancer 도입 등) 하고 있어 List로 회신

• op_type='D'인 경우 미회신

• org_type=’02‘(중계기관 이용기관)인 경우 미회신(불필요)

• op_type='D'인 경우 미회신

# API 서버의 공인 IP 주소

• PORT가 필요한 경우 IP와 PORT 간 구분자는 콜론(:)을 사용

• op_type='D'인 경우 미회신

• org_type=’02‘(중계기관 이용기관)인 경우 미회신(불필요)

• org_type='05'(인증서 본인확인기관)인 경우 PORT 필수 제공

# 중계기관/거점중계기관 기관코드

• 중계기관 이용기관(org_type=’02’)의 경우, 해당 기관이 이용 중인 중계기관(거점중계기관과 동일) 기관코드를 회신

• API 자체구축 정보제공자(org_type=’01’)의 경우, 해당 기관이 이용 중인 거점중계기관 기관코드를 회신

# 정보제공자의 업권 정보

• op_type='D'인 경우 미회신

• 정보제공자(org_type=’01’ 또는 ‘02’)인 경우만 회신

• <코드값>

|업권|코드값|
|---|---|
|bank|은행|
|card|카드|
|invest|금융투자|
|insu|보험|
|efin|전자금융|

금융보안원 www.fsec.or.kr

# 금융분야 마이데이터 표준API 규격

|auth_type|제공 인증방식|
|---|---|
|cert_issuer_dn|통합인증기관 의 DN 값 (인증서 본인확인기관 DN의 o 값)|
|cert_oid|허용 통합인증서 OID|
|ip_cnt|IP목록수|
|ip_list|IP목록|
|ip|IP|
|np_time_cnt|정기적 전송|

‘capital’ : 할부금융

‘ginsu’ : 보증보험

‘telecom’ : 통신

‘p2p’ : P2P

‘bond’ : 인수채권

‘usury’ : 대부

정보제공자가 제공하는 인증방식(개별인증/통합인증) 종류

- op_type='D'인 경우 미회신
- 정보제공자(org_type=’01’ 또는 ‘02’)인 경우만 회신
- <코드값>
- ‘01’ : 통합인증만 제공
- ‘03’ : 개별인증/통합인증 모두 제공

통합인증기관의 DN 값 (별첨1 참조)

- org_type='05'(인증서 본인확인기관)인 경우만 회신
- op_type='D'인 경우 미회신

허용 통합인증서 OID (별첨1 참조)

- org_type='05'(인증서 본인확인기관)인 경우만 회신
- 허용 인증서 OID가 다수일 경우에는 구분자(‘_’)로 구분하여 제공
- op_type='D'인 경우 미회신

해당기관이 API 요청자인 경우, API 제공자 (서버)인 상대기관이 방화벽 등으로 접근을 허용(화이트리스트)해야 하는 API 요청자의 IP 목록

<예시>

- 마이데이터사업자의 IP목록 : 정보제공자 (API 자체구축), 중계기관, 종합포털의 방화벽 오픈
- 정보제공자(API 자체구축) 및 중계기관의 IP목록 : 통합인증기관, 종합포털의 방화벽 오픈
- 중계기관의 IP 목록 : 통합인증기관, 종합포털, 필요시 정보제공자(중계기관 이용)의 방화벽 오픈
- 통합인증기관의 IP 목록 : 종합포털의 방화벽 오픈 등

op_type='D'인 경우 미회신

해당기관의 IP 주소

op_type='D'인 경우 미회신

정보제공자가 정기적 전송을 허용하는

금융보안원 www.fsec.or.kr - 259 -

# 금융분야 마이데이터 표준API 규격

# 가능 시간대 목록수

|정기적 전송|np_time_list 가능 시간대 목록|
|---|---|
|정기적 전송|np_time 가능 시간|

# Non-Peak 시간대 목록 수 (최대 3개까지 등록 허용, 시간대 합산하여 6시간 이상 필수)

- op_type='D'인 경우 미회신
- 정보제공자(org_type=’01’ 또는 ‘02’)인 경우만 회신
- op_type='D'인 경우 미회신

# 정기적 전송 가능 시간 (30분 단위 등록 가능)

- 규격 : “hhmm:hhmm”
- <예시>
- 0030:0530 (0시30분~5시30분)
- N NS (9) 2230:2300 (22시30분~23시0분)
- op_type='D'인 경우 미회신
- 정보제공자(org_type=’01’ 또는 ‘02’)인 경우만 회신

금융보안원 www.fsec.or.kr

# 금융분야 마이데이터 표준API 규격

# 7.1.3 서비스정보 조회

# ㅇ 기본 정보

|API ID|지원-003|
|---|---|
|HTTP Method|GET|
|API 제공자|종합포털|
|API 요청자|정보제공자|
|API 명 (URI)|/mgmts/services|
|정보제공자가 타기관(마이데이터사업자)의 서비스정보를 종합포털로부터 제공받기 위한 API|정보제공자가 타기관(마이데이터사업자)의 서비스정보를 종합포털로부터 제공받기 위한 API|
|설명|• 수정내역이 없는 서비스정보는 회신 목록에 포함하지 않음 • 중계기관의 경우, 종합포털은 중계기관에게만 서비스정보 전달 (필요시, 이를 수신한 중계기관이 참여기관에 배포)|
|기준시점|현재 시점|
|Content-Type (요청)|-|
|Content-Type (응답)|application/json; charset=UTF-8|

# ㅇ 요청메시지 명세

|HTTP Header|항목명|항목설명|
|---|---|---|
|Authorization|접근토큰|발급된 접근토큰|
|x-api-tran-id|거래고유번호| |

# Parameter

search_timestamp
조회 타임스탬프

# 필수 타입(길이) 설명 (비고)

|Y|aNS (1500)|• 접근토큰 유형(Bearer)을 명시 예) Authorization: Bearer 접근토큰|
|---|---|---|
|Y|AN (25)|거래고유번호 (첨부14 참조)|
|Y|N (14)|가장 최근 조회한 시간 (이전 API 호출 시 종합포털이 회신한 값을 저장하고 있다가 다음 API 호출 시 그 값을 그대로 세팅하여 전송, 최초 API 호출시 또는 전체정보 회신을 원할 경우에는 0으로 세팅) • 2.1- 참조|

# ㅇ 응답메시지 명세

|HTTP Header|항목명|항목설명|필수|타입(길이)|설명 (비고)|
|---|---|---|---|---|---|
|x-api-tran-id|거래고유번호| |Y|AN (25)|거래고유번호 (첨부14 참조)|
| |rsp_code|세부 응답코드|Y|aN (5)| |
| |rsp_msg|세부 응답메시지|Y|AH (450)|API 처리 시점의 현재시각을 설정하여 회신|

# Body

|search_timestamp|타임스탬프|N|N (14)|• 2.1- 참조|
|---|---|---|---|---|
|org_cnt|기관목록수|Y|N (5)| |
|org_list|기관목록|Y|Object| |
|-- org_code|기관코드|Y|aN (10)|마이데이터사업자 기관코드|

금융보안원 www.fsec.or.kr

# 금융분야 마이데이터 표준API 규격

|필드|설명|필수 여부|
|---|---|---|
|service_cnt|서비스목록수|Y|
|service_list|서비스목록|Y|
|service_name|서비스명|Y|
|op_type|신규/수정/삭 제 구분|Y|
|client_id|클라이언트 ID|Y|
|client_secret|클라이언트 Secret|N|
|redirect_uri_cnt|Callback URL 개수|N|
|redirect_uri_list|Callback URL 목록|N|
|redirect_uri|Callback URL|N|
|app_scheme_cnt|앱 URL 스킴 목록수|N|
|app_scheme_list|앱 URL 스킴 목록|N|
|app_scheme|앱 URL 스킴|N|

N (3) Object

AH (30) 서비스명 해당 서비스정보가 신규/수정/삭제인지를 구분자로 전송

• 수정내역이 없는 서비스정보는 회신하지 않음

• <코드값> 'I' : 신규 'M' : 수정 'D' : 삭제

aN (50) 종합포털에 마이데이터 서비스 등록 시 발급 받은 클라이언트 식별값

aN (50) 종합포털에 마이데이터 서비스 등록 시 발급 받은 클라이언트 Secret 값

• op_type='D'인 경우 미회신

마이데이터 서비스 Callback URL 개수 (4개까지 등록 허용)

• op_type='D'인 경우 미회신

Object • op_type='D'인 경우 미회신

aNS 마이데이터 서비스 Callback URL (100) • op_type='D'인 경우 미회신

마이데이터 서비스 앱 스킴 개수 • 정보제공자가 앱방식 개별인증 제공 시, 인증완료 후 다시 마이데이터서비스 앱으로 전환하기 위해 필요

• op_type='D'인 경우 미회신

Object • op_type='D'인 경우 미회신

aNS 마이데이터 서비스 앱 스킴 (100) • op_type='D'인 경우 미회신

금융보안원 www.fsec.or.kr

# 금융분야 마이데이터 표준API 규격

# 7.1.4 마이데이터사업자/정보수신자 통계자료 전송

# 기본 정보

|API ID|지원-004|
|---|---|
|HTTP Method|POST|
|API 제공자|종합포털|
|API 요청자|마이데이터사업자|
|API 명 (URI)|/mgmts/statistics/mydata|

마이데이터사업자 또는 정보수신자는 통계자료를 종합포털에 주 단위 집중

- 기준일자는 일요일로 한정하며 전주 일요일 ~ 토요일 데이터를 일요일에 전송함
- (예시) 9.12(일).에 통계자료 전송 시 9.5(일)., 9.6(월)., 9.7(화)., 9.8(수)., 9.9(목)., 9.10(금)., 9.11(토). 자의 일별 데이터를 전송
- 집중항목 : API 송·수신 기관코드, 자격증명(Client ID), 생년, 성별, 전송 API 종류, 전송 시간, 전송성공여부, 응답시간, 실패사유 등

마이데이터사업자 또는 정보수신자는 정기적 전송과 비정기적 전송을 구분(type parameter)하여 API 통계자료를 전송

마이데이터사업자가 복수의 마이데이터서비스를 운영할 경우 해당 마이데이터서비스 별로 복수 번 API 통계자료를 전송 (즉, 매 주 서비스앱별 두 번씩 API 호출이 필요)

# 기준시점

특정 시점

# Content-Type (요청)

application/json; charset=UTF-8

# Content-Type (응답)

application/json; charset=UTF-8

# 요청메시지 명세

|HTTP Header|항목명|항목설명|
|---|---|---|
|Authorization|접근토큰|발급된 접근토큰|
|x-api-tran-id|거래고유번호|통계정보|
|type|구분| |
|client_id|클라이언트 ID|해당 마이데이터사업자 또는 정보수신자의 클라이언트 ID (종합포털로부터 발급받은 클라이언트 식별값)|

# Body

|항목명|항목설명|
|---|---|
|inquiry_date|전송 기준일자|
|stat_date_cnt|통계일자수|
|stat_date_list|통계일자별|

# 필수

|타입(길이)|설명 (비고)|
|---|---|
|Y aNS (1500)|• 접근토큰 유형(Bearer)을 명시 예) Authorization: Bearer 접근토큰|
|Y AN (25)|거래고유번호 (첨부14 참조)|
|Y N (1)|1 : 정기적 전송|
|Y N (1)|2 : 비정기적 전송(정보주체 개입)|
|Y aN (50)|• 마이데이터사업자 : 종합포털에 등록한 서비스가 복수개인 경우, 서비스 개수만큼 본 API를 호출|
|Y DATE|• 본 기준일자를 기준으로 직전7일에 대한 통계자료 전송 • 기준일자는 일요일로 한정|
|Y N (1)|‘7' 고정값 (전송 기준일자(inquiry_date) 기준 직전 7일)|
|Y Object| |

금융보안원 www.fsec.or.kr - 263

# 금융분야 마이데이터 표준API 규격

# 통계정보 목록

|stat_date|통계일자|Y|DATE|통계자료의 해당 일자|
|---|---|---|---|---|
|org_cnt|정보제공자수|정보제공자별|정보제공자별|정보제공자별|
|org_list|통계정보 목록|정보제공자| | |
|org_code|기관코드| | | |
|consent_new|신규 또는 변경|전송요구 수|전송요구 수|전송요구 수|
|consent_revoke|철회된|전송요구 수|전송요구 수|전송요구 수|
|consent_own|최종 유효한|전송요구 수|전송요구 수|전송요구 수|
|api_type_cnt|API 구분 수|API 구분 별|API 구분 별|API 구분 별|
|api_type_list|통계정보 목록|API 구분|코드| |
|tm_slot_cnt|통계시점|시간대역 수|시간대별|시간대별|
|tm_slot_list|통계정보 목록|tm_slot|통계시점|시간대역|
|rsp_avg|응답시간|(평균값)| | |
|rsp_total|응답시간|(합계)| | |
|rsp_stdev|응답시간|(표준편차)| | |
|success_api_cnt|성공한 API|호출 횟수|Y|N (4)|
|정보제공자 기관코드|Y|aN (10)|• 지원 API로부터 배포|통계일자에 정보주체가 전송요구(신규)하거나 전송요구 변경한 수|
|N|N (10)|• type이 ‘1’(정기적 전송)인 경우 미회신|• 정보주체가 개별인증 또는 통합인증을 통해 전송요구권(신규 또는 변경)을 행사한 횟수를 의미|통계일자에 철회된 전송요구 수|
|N|N (10)|• type이 ‘1’(정기적 전송)인 경우 미회신|• 정보주체가 직접 전송요구 철회를 행사(개별인증-004 API 호출)한 횟수를 의미| |
|N|N (10)|통계일자에 최종 유효한 전송요구 수|• type이 ‘1’(정기적 전송)인 경우 미회신| |
|Y|N (3)|API 구분 수|Y|Object|
|Y|aN (4)|API 구분 코드|• [첨부12] API 구분 코드| |
|Y|N (2)|통계시점 시간대역 ('2' 고정값)|Y|Object|
|Y|aN (2)|총 2개 시간대역|• [첨부11] 참조| |
|Y|N (6)|해당 시간대역 응답시간 평균값 (단위:ms)|Y|N (15)|
|Y|N (15)|해당 시간대역 응답시간 합계 (단위:ms)|Y|N (6)|
|Y|N (6)|해당 시간대역 응답시간 표준편차 (단위:ms)|Y|N (10)|
|성공한 API 호출 횟수|Y|N (10)| | |

금융보안원 www.fsec.or.kr

- 264 -

# 금융분야 마이데이터 표준API 규격

|실패한 API|Y|N (10)|실패한 API 호출 횟수|
|---|---|---|---|
|fail_api_cnt|호출 횟수| | |

# 응답메시지 명세

|HTTP|항목명|항목설명|필수|타입(길이)|설명 (비고)|
|---|---|---|---|---|---|
|Header|x-api-tran-id|거래고유번호|Y|AN (25)|거래고유번호 (첨부14 참조)|
| |rsp_code|세부 응답코드|Y|aN (5)| |
|Body|rsp_msg|세부 응답메시지|Y|AH (450)| |

금융보안원 www.fsec.or.kr

-  265   -

# 금융분야 마이데이터 표준API 규격

# 7.1.5 정보제공자 통계자료 전송

- 기본 정보
|API ID|지원-005|
|---|---|
|HTTP Method|POST|
|API 제공자|종합포털|
|API 요청자|정보제공자|
|API 명 (URI)|/mgmts/statistics/provider|

정보제공자는 통계자료를 종합포털에 주 단위 집중

- 기준일자는 일요일로 한정하며 전주 일요일 ~ 토요일 데이터를 월요일에 전송함 (부하를 줄이기 위해 지원-004와 다르게 월요일에 전송)
- (예시) 9.13(월).에 통계자료 전송 시 9.12(일).을 기준일자로 9.5(일)., 9.6(월)., 9.7(화)., 9.8(수)., 9.9(목)., 9.10(금)., 9.11(토). 자의 일별 데이터를 전송
- 설명
정보제공자는 정기적 전송과 비정기적 전송을 구분(type parameter)하여 API 통계자료를 전송

즉, 주 단위로 총 2회의 API 호출 필요(정기적 전송 관련 통계자료 전송(type=“1”), 비정기적 전송 관련 통계자료 전송(type=“2”))

중계기관은 중계기관을 이용하는 정보제공자 별로 본 API를 따로 호출
- 기준시점
특정 시점
- Content-Type (요청)
Content-Type
application/json; charset=UTF-8
- Content-Type (응답)
Content-Type
application/json; charset=UTF-8

# 요청메시지 명세

|HTTP Header|항목명|항목설명|
|---|---|---|
|Authorization|접근토큰| |
|x-api-tran-id|거래고유번호| |
|org_code|정보제공자 기관코드| |

# 통계정보

|Body|항목명|항목설명|
|---|---|---|
| |type|구분|
| |inquiry_date|전송 기준일자|
| |stat_date_cnt|통계일자수|

# 필수

|타입(길이)|설명 (비고)|
|---|---|
|Y aNS (1500)|발급된 접근토큰 • 접근토큰 유형(Bearer)을 명시 예) Authorization: Bearer 접근토큰|
|Y AN (25)|거래고유번호 (첨부14 참조)|
|N aN (10)|통계자료 대상 정보제공자 기관코드 • API 요청자가 중계기관인 경우만 설정 (중계기관 이용기관 중 어느 기관의 통계자료를 송신하는지를 명시하기 위한 목적) • API자체구축 정보제공자는 해당사항 없음 • 지원 API로부터 배포|
|Y N (1)|1 : 정기적 전송 2 : 비정기적 전송(정보주체 개입)|
|Y DATE|통계자료를 전송할 기준일자 • 본 기준일자를 기준으로 직전7일에 대한 통계자료 전송 • 기준일자는 일요일로 한정|
|Y N (1)|‘7' 고정값 (전송 기준일자(inquiry_date) 기준 직전 7일)|

금융보안원 www.fsec.or.kr - 266 -

# 금융분야 마이데이터 표준API 규격

# 통계일자별

|stat_date_list|통계정보 목록|
|---|---|
|stat_date|통계일자|
|mydata_svc_cnt|서비스/정보 수신자 수|
|mydata_svc_list|마이데이터서비스/정보수|
|org_code|기관코드|
|client_id|클라이언트 ID|
|consent_new|신규 또는 변경 전송요구 수|
|consent_revoke|철회된 전송요구 수|
|consent_own|최종 유효한 전송요구 수|
|api_type_cnt|API 구분 수|
|api_type_list|API 구분 별 통계정보 목록|
|api_type|코드|
|tm_slot_cnt|통계시점 시간대역 수|
|tm_slot_list|통계정보 목록|
|tm_slot|시간대역|
|success_api_cnt|성공한 API 호출 횟수|
| |실패한 API|

# Y

Object

DATE 통계자료의 해당 일자 마이데이터서비스, 정보수신자 및 종합포털

# Y

N (3) (PDS)에 대한 통계정보를 모두 회신

동일 마이데이터사업자의 서비스가 복수 개

# Y

Object

마이데이터사업자/정보수신자/종합포털 기관

# Y

aN (10) 코드

• 지원 API로부터 배포 해당 마이데이터사업자/정보수신자의 클라이언트 ID (종합포털로부터 발급받은 클라언트 식별값)

통계일자에 정보주체가 전송요구(신규)하거나 전송요구 변경한 수

# N

N (10) • type이 ‘1’(정기적 전송)인 경우 미회신

• 정보주체가 개별인증 또는 통합인증을 통해 전송요구권(신규 또는 변경)을 행사한 횟수를 의미

통계일자에 철회된 전송요구 수

# N

N (10) • type이 ‘1’(정기적 전송)인 경우 미회신

• 정보주체가 직접 전송요구 철회를 행사(개별인증-004 API 호출)한 횟수를 의미

N (10) 통계일자에 최종 유효한 전송요구 수

# Y

N (3) API 구분 수

# Y

Object

API 구분 코드

# Y

aN (4) • [첨부12] API 구분 코드

# Y

N (2) 통계시점 시간대역 ('2' 고정값)

# Y

Object

총 2개 시간대역

# Y

aN (2) • [첨부11] 참조

# Y

N (10) 성공한 API 호출 횟수

# Y

N (10) 실패한 API 호출 횟수

금융보안원 www.fsec.or.kr - 267 -

# 금융분야 마이데이터 표준API 규격

# fail_api_cnt

# 호출 횟수

# 응답메시지 명세

|HTTP|항목명|항목설명|필수|타입(길이)|설명 (비고)|
|---|---|---|---|---|---|
|Header|x-api-tran-id|거래고유번호|Y|AN (25)|거래고유번호 (첨부14 참조)|
| |rsp_code|세부|Y|aN (5)| |
|Body|rsp_msg|세부|Y|AH (450)|응답메시지|

금융보안원 www.fsec.or.kr

# 금융분야 마이데이터 표준API 규격

# 7.1.6 통합인증기관용 기관정보 조회

# ㅇ 기본 정보

|API ID|지원-006|
|---|---|
|HTTP Method|GET|
|API 제공자|종합포털|
|API 요청자|통합인증기관|
|API 명 (URI)|/mgmts/orgs_for_ca|
|통합인증기관이 통합인증(본인확인) 처리에 필요한 정보제공자, 마이데이터사업자, 중계기관의 기관정보를 요청 및 수집하기 위한 API|통합인증기관이 통합인증(본인확인) 처리에 필요한 정보제공자, 마이데이터사업자, 중계기관의 기관정보를 요청 및 수집하기 위한 API|
|설명|• 수정내역이 없는 기관은 회신 목록에 포함하지 않음|
|기준시점|현재 시점|
|Content-Type (요청)|-|
|Content-Type (응답)|application/json; charset=UTF-8|

# ㅇ 요청메시지 명세

|HTTP Header|항목명|항목설명|
|---|---|---|
|Authorization|접근토큰|발급된 접근토큰|
|x-api-tran-id|거래고유번호| |

# Parameter

search_timestamp
조회 타임스탬프

# 필수 타입(길이) 설명 (비고)

|Y|aNS (1500)|• 접근토큰 유형(Bearer)을 명시 예) Authorization: Bearer 접근토큰|
|---|---|---|
|Y|AN (25)|거래고유번호 (첨부14 참조)|
|Y|N (14)|가장 최근 조회한 시간 (이전 API 호출 시 종합포털이 회신한 값을 저장하고 있다가 다음 API 호출 시 그 값을 그대로 세팅하여 전송, 최초 API 호출시 또는 전체정보 회신을 원할 경우에는 0으로 세팅)|

# ㅇ 응답메시지 명세

|HTTP Header|항목명|항목설명|필수|타입(길이)|설명 (비고)|
|---|---|---|---|---|---|
|x-api-tran-id|거래고유번호| |Y|AN (25)|거래고유번호 (첨부14 참조)|
|세부|rsp_code|응답코드|Y|aN (5)| |
|세부|rsp_msg|응답메시지|Y|AH (450)| |
|search_timestamp|조회 타임스탬프|API 처리 시점의 현재시각을 설정하여 회신|N|N (14)|• 2.1- 참조|

# Body

|org_cnt|기관목록수|Y|N (5)|
|---|---|---|---|
|org_list|기관목록|Y|Object|
|-- org_code|기관코드|Y|aN (10)|
|-- op_type|기관정보의 해당 기관정보가 신규/수정/삭제인지를 구분|Y|A (1)|

금융보안원 www.fsec.or.kr

- 269 -

# 금융분야 마이데이터 표준API 규격

|제 구분|기관구분|
|---|---|
|-- org_type| |
|-- org_name|기관명|
|-- domain|API서버 도메인명|
|-- cp_code|본인확인용 기관코드|
|-- relay_org_code|중계기관 기관코드|
|-- server_cert_issuer_dn|공동인증서 발급자 정보|
|-- server_cert_subject_dn|공동인증서 소유자 정보|

• 수정내역이 없는 정보제공자 및 중계기관은 회신하지 않음

• <코드값> 'I' : 신규, 'M' : 수정, 'D' : 삭제

기관구분 코드

• <코드값>

|코드|설명|
|---|---|
|‘01’|정보제공자 (API 자체구축)|
|‘02’|정보제공자 (중계기관 이용)|
|‘03’|마이데이터사업자|
|‘04’|중계기관|

• org_type='01', ‘02’, ‘03’, ‘04’인 경우(정보 제공자, 마이데이터사업자, 중계기관)만 회신

• 기관명

• org_type='01', ‘03’, ‘04’인 경우(정보제공자 (API 자체구축), 마이데이터사업자, 중계기관)만 회신

• API 서버의 도메인명

• org_type='01', ‘02’, ‘04’인 경우(정보제공자, 중계기관)만 회신

• 본인확인용 기관코드(cpCode)

• org_type='02'인 경우(정보제공자(중계기관 이용))만 회신

• 중계기관을 이용 중인 정보제공자가 해당 중계기관의 기관코드를 회신

• org_type='01', ‘04’인 경우(정보제공자(API 자체구축), 중계기관)만 회신

• 통합인증시 사용할 서버용 공동인증서의 issuer DN 값

• DN 값 하위 필드들은 콤마(“,”)를 구분자로 하여 단일 문자열로 생성

- (예시) “cn=yessignCA,ou=AccreditedCA,o=yessign,c=kr”

• org_type='01', ‘04’인 경우(정보제공자(API 자체구축), 중계기관)만 회신

• 통합인증시 사용할 서버용 공동인증서의 subject DN 값

- (예시) “cn=yessignCA,ou=AccreditedCA,o=yessign,c=kr”

• org_type='01', ‘04’인 경우(정보제공자(API 자체구축), 중계기관)만 회신

|ip_cnt|클라이언트 IP목록수|
|---|---|
|Y|N (3)|

• 통합인증기관에게 본인확인을 요청할 정보 제공자 및 중계기관의 IP 목록 (통합인증 기관은 본 IP 목록(화이트리스트)을 방화벽 등으로 접근제어)

금융보안원 www.fsec.or.kr

- 270 -

# 금융분야 마이데이터

# 표준API 규격

|ip_list|클라이언트|Y|Object|비고|
|---|---|---|---|---|
|• org_type='01', ‘04’인 경우(정보제공자(API 자체구축), 중계기관)만 회신| | | | |

|ip|클라이언트|Y|aNS (15)|비고|
|---|---|---|---|---|
|• org_type='01', ‘04’인 경우(정보제공자(API 자체구축), 중계기관)만 회신| | | | |

금융보안원  www.fsec.or.kr          -  271    -

# 금융분야 마이데이터 표준API 규격

# 7.2 지원 API (마이데이터사업자/정보제공자/중계기관 제 공)

# 7.2.1 접근토큰 발급

# ㅇ 기본 정보

|API ID|지원-101|
|---|---|
|HTTP Method|POST|
|API 제공자|마이데이터사업자, 정보제공자|
|API 요청자|종합포털|
|API 명 (URI)|/mgmts/oauth/2.0/token|
|설명|종합포털이 마이데이터사업자, 정보제공자 또는 중계기관에게 접근토큰 발급을 요청(종합 포털이 사전에 공유한 "종합포털 자격증명"을 이용하여 검증)|
|기준시점|현재 시점|
|Content-Type (요청)|application/x-www-form-urlencoded|
|Content-Type (응답)|application/json; charset=UTF-8|

# ㅇ 요청메시지 명세

|HTTP|항목명|항목설명|필수|타입(길이)|설명 (비고)|
|---|---|---|---|---|---|
|Header|x-api-tran-id|거래고유번호|Y|AN (25)|거래고유번호 (첨부14 참조)|
| |grant_type|권한부여 방식|Y|aNS (18)|'client_credentials' 고정값|
| |client_id|클라이언트 ID|Y|aN (50)|종합포털이 사전에 공유한 종합포털 자격증명의 클라이언트 식별값|
|Body|client_secret|클라이언트 Secret|Y|aN (50)|종합포털이 사전에 공유한 종합포털 자격증명의 클라이언트 Secret 값|
| |scope|권한 범위|Y|a (6)|고정값: ‘manage’|

# ㅇ 응답메시지 명세

|HTTP|항목명|항목설명|
|---|---|---|
|Header|x-api-tran-id|거래고유번호|
| |token_type|접근토큰 유형|
|Body|access_token|접근토큰|
| |expires_in|접근토큰 유효기간|

# 필수

|타입(길이)|설명 (비고)|
|---|---|
|Y|AN (25) 거래고유번호 (첨부14 참조)|
|Y|a (6) 접근토큰 유형 • 'Bearer' 고정값|
|Y|aNS (1500) 각 기관이 발급한 접근토큰|
|Y|N (9) 접근토큰 유효기간(단위: 초)|

금융보안원 www.fsec.or.kr

# 금융분야 마이데이터 표준API 규격

scope
권한 범위
Y
a (6)
고정값 : ‘manage’

# ㅇ 에러메시지 명세 (RFC 6749 준용)

|HTTP|항목명|항목설명|필수|타입(길이)|설명 (비고)|
|---|---|---|---|---|---|
|Header|x-api-tran-id|거래고유번호|Y|AN (25)|거래고유번호 (첨부14 참조)|
| |error|에러코드|Y|aNS (30)|에러코드|
|Body|error_description|에러메시지|N|AH (450)|에러메시지|

• [첨부1]-  참조

• [첨부1]-  참조

금융보안원 www.fsec.or.kr -  273 -

# 금융분야 마이데이터 표준API 규격

# 7.2.2 정보제공자 상태 조회

# 기본 정보

|API ID|지원-102|
|---|---|
|API 제공자|정보제공자|
|API 명 (URI)|/mgmts/status|
|설명|마이데이터사업자가 종합포털에서 부터 API서버 가용여부 조회|
|기준시점|현재 시점|
|Content-Type (요청)|-|
|HTTP Method|GET|
|API 요청자|종합포털|

# 요청 시, 종합포털은 본 API를 호출하여 정보제공자로

# Content-Type (응답)

application/json; charset=UTF-8

# 요청메시지 명세

|HTTP|항목명|항목설명|필수|타입(길이)|설명 (비고)|
|---|---|---|---|---|---|
|Header|Authorization|접근토큰|Y|aNS (1500)|접근토큰 유형(Bearer)을 명시 예) Authorization: Bearer 접근토큰|
|Header|x-api-tran-id|거래고유번호|Y|AN (25)|거래고유번호 (첨부14 참조)|
|Parameter|org_code|기관코드|Y|aN (10)|조회할 기관의 기관코드 (중계기관 호출 시 필요하나, 자체API 구축 기관의 경우도 본인 기관 요청 여부를 한 번 더 검증하기 위해 필수로 지정)|

# 응답메시지 명세

|HTTP|항목명|항목설명|필수|타입(길이)|설명 (비고)|
|---|---|---|---|---|---|
|Header|x-api-tran-id|거래고유번호|Y|AN (25)|거래고유번호 (첨부14 참조)|
|Header|rsp_code|응답코드|Y|aN (5)|세부|
|Header|rsp_msg|응답메시지|Y|AH (450)|세부|
|Body|availability|가용 여부|Y|aN (2)|API 서버 가용 여부 • <코드값> 01 : 정상 02 : 장애 03 : 시스템 점검 99 : 기타|

금융보안원 www.fsec.or.kr

# 금융분야 마이데이터 표준API 규격

# 7.2.3 정보주체 별 전송요구 내역 조회

# ㅇ 기본 정보

|API ID|지원-103|
|---|---|
|HTTP Method|POST|
|API 제공자|마이데이터사업자|
|API 요청자|종합포털|
|API 명 (URI)|/mgmts/consents|
|설명|정보주체가 종합포털에서 요청 시, 종합포털은 본 API를 호출하여 마이데이터사업자로부터 전송 요구 내역을 조회 - 정보제공자별 전송요구 내역을 List로 회신
- 현재 유효한 전송요구 내역만 회신
|
|기준시점|현재 시점|
|Content-Type (요청)|application/json; charset=UTF-8|
|Content-Type (응답)|application/json; charset=UTF-8|

# ㅇ 요청메시지 명세

|HTTP Header|항목명|항목설명|
|---|---|---|
|Authorization|접근토큰|발급된 접근토큰|
|x-api-tran-id|거래고유번호| |
|org_code|기관코드| |

# Body

정보주체
user_ci
식별값

# 필수 타입(길이) 설명 (비고)

|Y|aNS (1500)|• 접근토큰 유형(Bearer)을 명시 예) Authorization: Bearer 접근토큰|
|---|---|---|
|Y|AN (25)|거래고유번호 (첨부14 참조)|
|Y|aN (10)|마이데이터사업자의 기관코드 • 지원 API로부터 배포|
|Y|B64 (100)|정보주체 식별을 위한 연계정보 (Connection Information)|

# ㅇ 응답메시지 명세

|HTTP Header|항목명|항목설명|필수|타입(길이)|설명 (비고)|
|---|---|---|---|---|---|
|x-api-tran-id|거래고유번호| |Y|AN (25)|거래고유번호 (첨부14 참조)|
|rsp_code|세부 응답코드| |Y|aN (5)| |
|rsp_msg|세부 응답메시지| |Y|AH (450)| |
|is_member|회원 가입 여부|해당 정보주체가 마이데이터사업자의 고객인지 여부|Y|Boolean|• is_member=“false”인 경우, 아래 내용들 회신 안 함|
|service_cnt|서비스목록수|전송요구 대상 마이데이터 서비스 수|N|N (5)|• 해당 마이데이터사업자가 복수 개의 마이데이터 서비스를 제공할 수 있기 때문에 List로 회신|
|service_list|서비스목록| |N|Object| |

금융보안원 www.fsec.or.kr

# 금융분야 마이데이터 표준API 규격

|필드명|설명|필수 여부|형식|비고|
|---|---|---|---|---|
|client_id|클라이언트 ID|N|aN (50)|종합포털에 마이데이터 서비스 등록 시 발급 받은 클라이언트 식별값|
|consent_cnt|전송요구 내역 수|N|N (3)| |
|consent_list|전송요구 내역 목록|N|Object| |
|org_code|기관코드|N|aN (10)|정보제공자 기관코드|
|정보제공자가 발급한 접근토큰의 권한 범위 (다중 scope 가능)|정보제공자가 발급한 접근토큰의 권한 범위 (다중 scope 가능)|정보제공자가 발급한 접근토큰의 권한 범위 (다중 scope 가능)|정보제공자가 발급한 접근토큰의 권한 범위 (다중 scope 가능)|정보제공자가 발급한 접근토큰의 권한 범위 (다중 scope 가능)|
|• 2.2- 참조|• 2.2- 참조|• 2.2- 참조|• 2.2- 참조|• 2.2- 참조|
|scope|권한 범위|N| |• 접근토큰 권한 범위(scope)를 통해 정보주체가 전송요구한 내역(중분류)을 확인 가능|
|• 전송요구 상세내역(예: 특정 계좌번호를 전송 요구했는지 등)은 종합포털에서 보여주지 않고, 각 마이데이터 사업자 App을 통해 조회|• 전송요구 상세내역(예: 특정 계좌번호를 전송 요구했는지 등)은 종합포털에서 보여주지 않고, 각 마이데이터 사업자 App을 통해 조회|• 전송요구 상세내역(예: 특정 계좌번호를 전송 요구했는지 등)은 종합포털에서 보여주지 않고, 각 마이데이터 사업자 App을 통해 조회|• 전송요구 상세내역(예: 특정 계좌번호를 전송 요구했는지 등)은 종합포털에서 보여주지 않고, 각 마이데이터 사업자 App을 통해 조회|• 전송요구 상세내역(예: 특정 계좌번호를 전송 요구했는지 등)은 종합포털에서 보여주지 않고, 각 마이데이터 사업자 App을 통해 조회|
|consent_date|전송요구 일자|N|DATE|정보주체가 전송요구한 일자|
|consent_end_date|전송요구 종료 시점|N|DATE|• 정보제공-공통-002 “종료 시점(end_date)”과 동일한 값|

금융보안원 www.fsec.or.kr

- 276 -

# 금융분야 마이데이터 표준API 규격

# 7.2.4 통계자료 재전송 요청

# ㅇ 기본 정보

|API ID|지원-104|
|---|---|
|HTTP Method|GET|
|API 제공자|마이데이터사업자, 정보제공자|
|API 요청자|종합포털|
|API 명 (URI)|/mgmts/req-statistics|

마이데이터사업자, 정보수신자 및 정보제공자는 통계자료를 종합포털에 집중하도록 하고 있으나(지원-004, 지원-005), 마이데이터사업자 또는 정보제공자가 API 규격 오류, 전송 실패, 또는 잘못된 정보 집중 등 통계자료 집중이 정상적으로 이루어지지 않았을 경우 종합포털에서 재전송을 요청하기 위한 API

- 마이데이터사업자 또는 정보수신자는 본 API 수신 시, 지원-004 API를 이용하여 정보를 재전송
- 정보제공자는 본 API 수신 시, 지원-005 API를 이용하여 정보를 재전송

# 기준시점

현재 시점

# Content-Type (요청)

-

# Content-Type (응답)

application/json; charset=UTF-8

# ㅇ 요청메시지 명세

|HTTP Header|항목명|항목설명|
|---|---|---|
|Authorization|접근토큰| |
|x-api-tran-id|거래고유번호| |
|org_code|기관코드| |
|org_type|기관구분| |
|inquiry_date|재전송 기준일자| |
|type|통계정보 구분| |

# 필수 타입(길이) 설명 (비고)

|항목|필수|타입(길이)|설명 (비고)|
|---|---|---|---|
|접근토큰|Y|aNS (1500)|접근토큰 유형(Bearer)을 명시 예) Authorization: Bearer 접근토큰|
|거래고유번호|Y|AN (25)|거래고유번호 (첨부14 참조)|
|기관코드|Y|aN (10)|API 제공자(마이데이터사업자, 정보수신자 또는 정보제공자)의 기관코드 • 지원 API로부터 배포|
|기관구분|Y|aN (2)|<코드값>01 : 마이데이터사업자 02 : 정보수신자 03 : 정보제공자|
|기준일자|Y|DATE|본 기준일자를 기준으로 직전 7일에 대한 통계자료 재전송 • 기준일자는 일요일로 한정|
|재전송 요청|Y|N (1)|0 : 정기적 전송 / 비정기적 전송(정보주체 개입) 통계자료 모두 재전송 요청 1 : 정기적 전송 통계자료에 대한 재전송 요청 2 : 비정기적 전송(정보주체 개입) 통계자료에 대한 재전송 요청|

금융보안원 www.fsec.or.kr

-  277  -

# 금융분야 마이데이터 표준API 규격

# ㅇ 응답메시지 명세

|HTTP|항목명|항목설명|필수|타입(길이)|설명 (비고)|
|---|---|---|---|---|---|
|Header|x-api-tran-id|거래고유번호|Y|AN (25)|거래고유번호 (첨부14 참조)|
| |rsp_code|세부|Y|aN (5)| |
|Body|rsp_msg|세부|Y|AH (450)|응답메시지|

금융보안원 www.fsec.or.kr - 278 -

