# 첨부14 거래고유번호 생성 규칙

# 설명

ㅇ API 처리 시 오류가 발생하여 “API를 호출한 기관” (이하 ‘API요청 기관’)과 “API를 처리하는 기관“ (이하 ‘API처리기관’) 간 거래추적이 필요 (민원대응, 장애처리 등)한 경우 거래고유번호를 이용해 추적을 용이하게 하기 위함이며, 추후 수수료 정산 정합성 검증 시에도 활용 가능

ㅇ 거래고유번호는 API요청기관에서 생성하여 API처리기관에 전송되는 값으로, API처리기관은 HTTP 응답 헤더*에 동일한 거래고유번호를 설정하여 API요청기관에 회신

* API 정상 응답뿐만 아니라 에러응답 시에도 반드시 거래고유번호를 회신

# 생성규칙

ㅇ 형식 : 기관코드(10자리) + 생성주체구분코드(1자리) + 부여번호(14자리)

|기관코드|생성주체구분코드|부여번호|
|---|---|---|
|(10자리)|(1자리)|(14자리)|
|‘M’|마이데이터사업자| |
|‘S’|정보제공자 (API 직접 구축)| |
|API요청기관|‘R’|중계기관|
|기관코드|‘C’|정보수신자 (마이데이터사업자 제외)|
| |‘P’|종합포털|
| |‘A’|통합인증기관|

ㅇ 하루동안의 유일성을 보장 (날짜가 다를 경우에는 중복발생 가능)

- 그 외 어떤 규칙(순차증가 등)도 보장하지 않음
